# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã - –ü–∞–º—è—Ç–∫–∞

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
- **Backend:** `D:\OSPanel\domains\rem-online` (Laravel API)
- **Frontend:** `D:\OSPanel\domains\hasapchy` (Vue.js SPA)

## üîê –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–∞–Ω–∏–π
- **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ `company_id` —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Company-ID`
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:** CompanySwitcher ‚Üí store ‚Üí –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏

## üì¶ –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (2-—É—Ä–æ–≤–Ω–µ–≤–∞—è)

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (TTL: 24—á)
```
localStorage:
‚îú‚îÄ‚îÄ currencies_cache
‚îú‚îÄ‚îÄ units_cache
```

### –î–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º (TTL: 10–º–∏–Ω)
```
localStorage:
‚îú‚îÄ‚îÄ warehouses_{companyId}
‚îú‚îÄ‚îÄ cashRegisters_{companyId}
‚îú‚îÄ‚îÄ clients_{companyId}
‚îú‚îÄ‚îÄ products_{companyId}
‚îú‚îÄ‚îÄ services_{companyId}
‚îú‚îÄ‚îÄ categories_{companyId}
‚îú‚îÄ‚îÄ projects_{companyId}
```

## üéØ Store (Vuex)
**State:** –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ + currentCompany + companyDataCache
**Actions:** loadCompanyData, loadCurrencies, loadUnits, setCurrentCompany
**Getters:** –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º

## üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
1. **App.vue:** loadCurrencies + loadUnits + loadUserCompanies + loadCurrentCompany + loadCompanyData
2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** –∏—Å–ø–æ–ª—å–∑—É—é—Ç store.getters –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö API –≤—ã–∑–æ–≤–æ–≤
3. **–ü—Ä–∏ —Å–º–µ–Ω–µ –∫–æ–º–ø–∞–Ω–∏–∏:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ setCurrentCompany

## üìã –ü—Ä–æ–µ–∫—Ç—ã - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- **–í —Ñ–æ—Ä–º–∞—Ö –≤—ã–±–æ—Ä–∞:** `/projects/active` (–∏—Å–∫–ª—é—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã 3="–ó–∞–≤–µ—Ä—à–µ–Ω", 4="–û—Ç–º–µ–Ω–µ–Ω")
- **–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–æ–≤:** `/projects/all` (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã)

## üõ†Ô∏è Backend - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º
**–í—Å–µ Repository –∏—Å–ø–æ–ª—å–∑—É—é—Ç:**
```php
private function getCurrentCompanyId() {
    return request()->header('X-Company-ID');
}

private function addCompanyFilter($query) {
    $companyId = $this->getCurrentCompanyId();
    if ($companyId) {
        $query->where('table.company_id', $companyId);
    } else {
        $query->whereNull('table.company_id');
    }
    return $query;
}
```

## üö´ –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ùå SystemSettingsPage (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ø–µ—Ä—å –∏–∑ —Ç–∞–±–ª–∏—Ü—ã companies)
- ‚ùå SettingsController (—Ñ—Ä–æ–Ω—Ç/–±—ç–∫)
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ settings (–º–∏–≥—Ä–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∞)
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω

## üé® UI
- **–°–∞–π–¥–±–∞—Ä:** "–ú–æ—è –∫–æ–º–ø–∞–Ω–∏—è" (–±–µ–∑ –º–∏–≥–∞–Ω–∏—è)
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **–õ–æ–≥–æ—Ç–∏–ø:** –∏–∑ currentCompany.logo

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–ö—ç—à –∏–∑ localStorage:** –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **Graceful fallback:** –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å–µ—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫—ç—à
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:** –ø—Ä–∏ —Å–º–µ–Ω–µ –∫–æ–º–ø–∞–Ω–∏–∏

## üîß –£—Ç–∏–ª–∏—Ç—ã
- **CacheUtils:** TTL, set/get/clear –º–µ—Ç–æ–¥—ã
- **axiosInstance:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç X-Company-ID –∑–∞–≥–æ–ª–æ–≤–æ–∫

## üì± –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç store
```javascript
// ‚ùå –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±:
this.warehouses = await WarehouseController.getAllItems();

// ‚úÖ –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–±:
this.warehouses = this.$store.getters.warehouses;
```

## üóÑÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å company_id
- warehouses, cash_registers, clients, products, projects
- categories (–ø–æ–∫–∞ –±–µ–∑ company_id)
